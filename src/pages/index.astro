---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import hochzeitImage from '../assets/hochzeit.avif';
import musikImage from '../assets/musik.avif';
import drohneImage from '../assets/drohne.avif';
import kameraBanner from '../assets/kamera-banner.jpg';
---

<Layout>
	<Navigation />
	
	<main>
		<!-- Hero Section / Home -->
		<section id="home" class="hero">
			<div class="video-background">
				<iframe
					src="https://player.vimeo.com/video/1146365162?autoplay=1&loop=1&muted=1&background=1&controls=0&playsinline=1"
					frameborder="0"
					allow="autoplay; fullscreen; picture-in-picture"
					allowfullscreen
					class="video-iframe"
				></iframe>
			</div>
			
		</section>

		<!-- Doku/Reportage -->
		<section id="doku-reportage" class="section">
			<div class="container">
				<h2>Doku/Reportage</h2>
				<div class="carousel" data-carousel="doku">
					<div class="carousel-container">
						<div class="carousel-slide active">
							<img src={hochzeitImage.src} alt="Doku/Reportage Bild 1" />
						</div>
						<div class="carousel-slide">
							<img src={hochzeitImage.src} alt="Doku/Reportage Bild 2" />
						</div>
						<div class="carousel-slide">
							<img src={hochzeitImage.src} alt="Doku/Reportage Bild 3" />
						</div>
					</div>
					<div class="carousel-controls">
						<button class="carousel-btn prev" aria-label="Vorheriges Bild">‹</button>
						<span class="carousel-counter">
							<span class="current">1</span> / <span class="total">3</span>
						</span>
						<button class="carousel-btn next" aria-label="Nächstes Bild">›</button>
					</div>
				</div>
			</div>
		</section>

		<!-- Image/Musik -->
		<section id="image-musik" class="section bg-dark">
			<div class="container">
				<h2>Image/Musik</h2>
				<div class="carousel" data-carousel="image">
					<div class="carousel-container">
						<div class="carousel-slide active">
							<div class="carousel-video-wrapper">
								<iframe
									src="https://player.vimeo.com/video/786264706?autoplay=0&loop=0&muted=0&controls=1&playsinline=1"
									frameborder="0"
									allow="autoplay; fullscreen; picture-in-picture"
									allowfullscreen
									class="carousel-video"
								></iframe>
							</div>
							<div class="carousel-video-info">
								<h4 class="carousel-video-title">Titel des Videos</h4>
								<p class="carousel-video-description">Kurzbeschreibung des Videos</p>
							</div>
						</div>
						<div class="carousel-slide">
							<img src={musikImage.src} alt="Image/Musik Bild 2" />
						</div>
						<div class="carousel-slide">
							<img src={musikImage.src} alt="Image/Musik Bild 3" />
						</div>
					</div>
					<div class="carousel-controls">
						<button class="carousel-btn prev" aria-label="Vorheriges Bild">‹</button>
						<span class="carousel-counter">
							<span class="current">1</span> / <span class="total">3</span>
						</span>
						<button class="carousel-btn next" aria-label="Nächstes Bild">›</button>
					</div>
				</div>
			</div>
		</section>

		<!-- Drohne -->
		<section id="drohne" class="section">
			<div class="container">
				<h2>Drohne</h2>
				<div class="carousel" data-carousel="drohne">
					<div class="carousel-container">
						<div class="carousel-slide active">
							<img src={drohneImage.src} alt="Drohne Bild 1" />
						</div>
						<div class="carousel-slide">
							<img src={drohneImage.src} alt="Drohne Bild 2" />
						</div>
						<div class="carousel-slide">
							<img src={drohneImage.src} alt="Drohne Bild 3" />
						</div>
					</div>
					<div class="carousel-controls">
						<button class="carousel-btn prev" aria-label="Vorheriges Bild">‹</button>
						<span class="carousel-counter">
							<span class="current">1</span> / <span class="total">3</span>
						</span>
						<button class="carousel-btn next" aria-label="Nächstes Bild">›</button>
					</div>
				</div>
			</div>
		</section>

		<!-- Produktion -->
		<section id="produktion" class="section video-section">
			<div class="container">
				<div class="video-section-content">
					<h2>Produktion</h2>
					<p class="video-subtitle">Professionelle Videoproduktion für Ihre Projekte.</p>
				</div>
			</div>
		</section>
		<div class="video-banner" style={`background-image: url(${kameraBanner.src})`}></div>
		<!-- About/Description -->
		<section class="section bg-dark">
			<div class="container">
				<h2>Capturing Moments with Precision</h2>
				<div class="content">
					<p>
						Discover the art of storytelling through the lens of Schernickau.de, your expert portfolio cameraman. Experience dynamic visuals that bring your vision to life. Elevate your portfolio with professional video services tailored to your needs.
					</p>
				</div>
			</div>
		</section>

		<!-- Info/Vita -->
		<section id="info-vita" class="section">
			<div class="container">
				<h2>Info/Vita</h2>
				<div class="info-vita-content">
					<div class="info-vita-text">
						<p>
							Als erfahrener Kameramann und Director of Photography bringe ich Geschichten durch die Linse zum Leben. Mit einem Auge für Details und einer Leidenschaft für visuelles Storytelling schaffe ich Bilder, die Emotionen wecken und Botschaften kraftvoll vermitteln.
						</p>
						<p>
							Meine Expertise umfasst Dokumentationen, Reportagen, Musikvideos und professionelle Produktionen. Jedes Projekt ist für mich eine neue Herausforderung, die ich mit Kreativität, technischem Know-how und einem klaren Fokus auf Qualität angehe.
						</p>
						<p>
							Von der Konzeption bis zur finalen Umsetzung begleite ich Projekte mit Engagement und Professionalität. Lassen Sie uns gemeinsam Ihre Vision in bewegte Bilder verwandeln.
						</p>
					</div>
					<div class="info-vita-image">
						<img src={musikImage.src} alt="Kameramann" />
					</div>
				</div>
			</div>
		</section>
	</main>

	<footer class="footer">
		<div class="container">
			<p>schernickau.de</p>
			<p>&copy; 2025 schernickau.de</p>
		</div>
	</footer>
</Layout>

<script>
	document.addEventListener('DOMContentLoaded', () => {
		const carousels = document.querySelectorAll('.carousel');
		
		carousels.forEach((carousel) => {
			const slides = carousel.querySelectorAll('.carousel-slide');
			const prevBtn = carousel.querySelector('.carousel-btn.prev');
			const nextBtn = carousel.querySelector('.carousel-btn.next');
			const currentSpan = carousel.querySelector('.carousel-counter .current');
			const totalSpan = carousel.querySelector('.carousel-counter .total');
			
			let currentIndex = 0;
			const totalSlides = slides.length;
			
			// Set total count
			if (totalSpan) {
				totalSpan.textContent = String(totalSlides);
			}
			
			const showSlide = (index: number) => {
				slides.forEach((slide, i) => {
					slide.classList.toggle('active', i === index);
				});
				
				if (currentSpan) {
					currentSpan.textContent = String(index + 1);
				}
			};
			
			const nextSlide = () => {
				currentIndex = (currentIndex + 1) % totalSlides;
				showSlide(currentIndex);
			};
			
			const prevSlide = () => {
				currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
				showSlide(currentIndex);
			};
			
			if (nextBtn) {
				nextBtn.addEventListener('click', nextSlide);
			}
			
			if (prevBtn) {
				prevBtn.addEventListener('click', prevSlide);
			}
		});
	});
</script>

<style>
	main {
		margin-top: 70px; /* Space for fixed navigation */
	}

	.hero {
		position: relative;
		min-height: 100vh;
		display: flex;
		align-items: center;
		justify-content: center;
		color: white;
		text-align: center;
		overflow: hidden;
	}

	.video-background {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		z-index: 0;
	}

	.video-iframe {
		position: absolute;
		top: 50%;
		left: 50%;
		width: 100vw;
		height: 100vh;
		transform: translate(-50%, -50%);
		pointer-events: none;
	}

	/* Responsive Video Scaling */
	@media (min-aspect-ratio: 16/9) {
		.video-iframe {
			width: 100vw;
			height: 56.25vw; /* 16:9 aspect ratio */
		}
	}

	@media (max-aspect-ratio: 16/9) {
		.video-iframe {
			width: 177.78vh; /* 16:9 aspect ratio */
			height: 100vh;
		}
	}

	.hero-overlay {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: rgba(0, 0, 0, 0.4);
		z-index: 1;
	}

	.hero-content {
		position: relative;
		z-index: 2;
		max-width: 800px;
		padding: 2rem;
	}

	.hero-content h1 {
		font-size: 3.5rem;
		margin-bottom: 1.5rem;
		font-weight: 700;
		line-height: 1.2;
	}

	.hero-content p {
		font-size: 1.25rem;
		opacity: 0.95;
		margin-bottom: 2rem;
		line-height: 1.6;
	}

	.cta-button {
		display: inline-block;
		padding: 1rem 2.5rem;
		background-color: #ffffff;
		color: #2b5d59;
		text-decoration: none;
		font-weight: 600;
		border-radius: 4px;
		transition: all 0.3s ease;
	}

	.cta-button:hover {
		background-color: #f0f0f0;
		transform: translateY(-2px);
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
	}

	.section {
		padding: 5rem 0;
		min-height: 50vh;
		background-color: #ffffff;
	}

	.section.video-section {
		padding-bottom: 0;
		margin-bottom: 0;
		overflow: hidden;
	}

	.section.bg-dark {
		background-color: #2b5d59;
		color: #ffffff;
	}

	.section.bg-light {
		background-color: #f8f9fa;
	}

	.container {
		max-width: 1200px;
		margin: 0 auto;
		padding: 0 2rem;
	}

	.section h2 {
		font-size: 2.5rem;
		margin-bottom: 2rem;
		color: inherit;
		text-align: left;
		font-weight: 700;
		padding-left: 0;
	}

	.section-intro {
		font-size: 1.1rem;
		line-height: 1.8;
		max-width: 900px;
		margin: 0 auto 3rem;
		color: #666;
		text-align: center;
	}

	.services-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
		gap: 2rem;
		margin-top: 3rem;
	}

	.service-card {
		background-color: #f8f9fa;
		padding: 0;
		border-radius: 8px;
		transition: transform 0.3s ease, box-shadow 0.3s ease;
		overflow: hidden;
		display: flex;
		flex-direction: column;
	}

	.service-card:hover {
		transform: translateY(-5px);
		box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
	}

	.service-image {
		width: 100%;
		height: 250px;
		overflow: hidden;
		position: relative;
	}

	.service-image img {
		width: 100%;
		height: 100%;
		object-fit: cover;
		transition: transform 0.3s ease;
	}

	.service-card:hover .service-image img {
		transform: scale(1.05);
	}

	.service-card h3 {
		font-size: 1.5rem;
		margin-bottom: 1rem;
		color: #2b5d59;
		padding: 1.5rem 2rem 0;
	}

	.service-card p {
		color: #666;
		line-height: 1.6;
		margin-bottom: 1rem;
		padding: 0 2rem;
	}

	.service-tag {
		display: inline-block;
		padding: 0.5rem 1rem;
		background-color: #2b5d59;
		color: #ffffff;
		border-radius: 4px;
		font-size: 0.875rem;
		font-weight: 600;
		margin: 0 2rem 2rem;
	}

	.gallery-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
		gap: 1.5rem;
		margin-top: 2rem;
	}

	.gallery-item {
		aspect-ratio: 4 / 3;
		overflow: hidden;
		border-radius: 8px;
	}

	.gallery-placeholder {
		width: 100%;
		height: 100%;
		background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
		display: flex;
		align-items: center;
		justify-content: center;
		color: #ffffff;
		text-align: center;
		padding: 1rem;
		font-size: 0.9rem;
		opacity: 0.8;
	}

	.video-section-content {
		text-align: left;
		max-width: 800px;
		margin: 0;
	}

	.video-section-content h2 {
		font-size: 2.5rem;
		margin-bottom: 1rem;
		text-align: left;
	}

	.video-subtitle {
		font-size: 1.25rem;
		color: #666;
	}

	.video-section {
		padding-bottom: 0 !important;
		margin-bottom: 0;
	}

	.video-banner {
		width: 100%;
		height: 200px;
		background-size: cover;
		background-position: center;
		background-repeat: no-repeat;
		margin: 0;
		display: block;
	}

	.section.bg-dark {
		margin-top: 0;
		padding-top: 5rem;
	}

	.content {
		font-size: 1.1rem;
		line-height: 1.8;
		max-width: 800px;
		margin: 0 auto;
		text-align: center;
	}

	.info-vita-content {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: 3rem;
		align-items: center;
		margin-top: 2rem;
	}

	.info-vita-text {
		font-size: 1.1rem;
		line-height: 1.8;
	}

	.info-vita-text p {
		margin-bottom: 1.5rem;
	}

	.info-vita-text p:last-child {
		margin-bottom: 0;
	}

	.info-vita-image {
		width: 100%;
	}

	.info-vita-image img {
		width: 100%;
		height: auto;
		display: block;
		object-fit: cover;
		border-radius: 8px;
	}

	@media (max-width: 768px) {
		.info-vita-content {
			grid-template-columns: 1fr;
			gap: 2rem;
		}

		.info-vita-image {
			order: -1;
		}
	}

	.contact-form {
		max-width: 600px;
		margin: 0 auto;
		padding: 2rem;
	}

	.form-group {
		margin-bottom: 1.5rem;
	}

	.form-group label {
		display: block;
		margin-bottom: 0.5rem;
		font-weight: 600;
		color: #2b5d59;
	}

	.form-group input,
	.form-group textarea {
		width: 100%;
		padding: 0.75rem;
		border: 2px solid #e0e0e0;
		border-radius: 4px;
		font-size: 1rem;
		font-family: inherit;
		transition: border-color 0.3s ease;
	}

	.form-group input:focus,
	.form-group textarea:focus {
		outline: none;
		border-color: #2b5d59;
	}

	.submit-button {
		width: 100%;
		padding: 1rem 2rem;
		background-color: #2b5d59;
		color: #ffffff;
		border: none;
		border-radius: 4px;
		font-size: 1rem;
		font-weight: 600;
		cursor: pointer;
		transition: background-color 0.3s ease;
	}

	.submit-button:hover {
		background-color: #1e423f;
	}

	.carousel {
		position: relative;
		width: 100%;
		margin-top: 2rem;
	}

	.carousel-container {
		position: relative;
		width: 100%;
		overflow: hidden;
	}

	.carousel-slide {
		display: none;
		width: 100%;
		opacity: 0;
		transition: opacity 0.3s ease;
	}

	.carousel-slide.active {
		display: block;
		opacity: 1;
	}

	.carousel-slide img {
		width: 100%;
		height: auto;
		display: block;
		object-fit: cover;
		max-height: 600px;
	}

	.carousel-video-wrapper {
		position: relative;
		width: 100%;
		padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
		overflow: hidden;
		max-height: 600px;
	}

	.carousel-video {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		border: none;
	}

	.carousel-video-info {
		margin-top: 1.5rem;
		padding: 0 1rem;
	}

	.carousel-video-title {
		font-size: 1.5rem;
		font-weight: 700;
		margin-bottom: 0.5rem;
		color: inherit;
		font-family: var(--font-instrument-sans);
	}

	.carousel-video-description {
		font-size: 1rem;
		line-height: 1.6;
		color: inherit;
		opacity: 0.9;
	}

	.carousel-controls {
		display: flex;
		justify-content: center;
		align-items: center;
		gap: 2rem;
		margin-top: 1.5rem;
	}

	.carousel-btn {
		background: transparent;
		border: 2px solid #2b5d59;
		color: #2b5d59;
		width: 50px;
		height: 50px;
		border-radius: 50%;
		font-size: 2rem;
		cursor: pointer;
		display: flex;
		align-items: center;
		justify-content: center;
		transition: all 0.3s ease;
		line-height: 1;
		padding: 0;
	}

	.carousel-btn:hover {
		background-color: #2b5d59;
		color: #ffffff;
		border-color: #2b5d59;
	}

	.section.bg-dark .carousel-btn {
		border-color: #ffffff;
		color: #ffffff;
	}

	.section.bg-dark .carousel-btn:hover {
		background-color: #ffffff;
		color: #2b5d59;
		border-color: #ffffff;
	}

	.carousel-counter {
		font-size: 1rem;
		font-weight: 500;
		color: inherit;
	}

	.footer {
		background-color: #2b5d59;
		color: white;
		padding: 3rem 0;
		text-align: center;
	}

	.footer p {
		margin: 0.5rem 0;
	}

	.footer p:first-child {
		font-size: 1.25rem;
		font-weight: 600;
	}

	@media (max-width: 768px) {
		.hero-content h1 {
			font-size: 2.5rem;
		}

		.hero-content p {
			font-size: 1.1rem;
		}

		.section {
			padding: 3rem 0;
		}

		.section h2 {
			font-size: 2rem;
		}

		.services-grid {
			grid-template-columns: 1fr;
		}

		.gallery-grid {
			grid-template-columns: 1fr;
		}

		.container {
			padding: 0 1rem;
		}

		.section-intro {
			font-size: 1rem;
		}
	}
</style>